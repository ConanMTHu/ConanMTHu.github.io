<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>èƒ¡æ˜æ¶›çš„æŠ€æœ¯åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="blog IT">
<meta property="og:type" content="website">
<meta property="og:title" content="èƒ¡æ˜æ¶›çš„æŠ€æœ¯åšå®¢">
<meta property="og:url" content="http://hmttommy.com/index.html">
<meta property="og:site_name" content="èƒ¡æ˜æ¶›çš„æŠ€æœ¯åšå®¢">
<meta property="og:description" content="blog IT">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="èƒ¡æ˜æ¶›çš„æŠ€æœ¯åšå®¢">
<meta name="twitter:description" content="blog IT">
  
    <link rel="alternative" href="/atom.xml" title="èƒ¡æ˜æ¶›çš„æŠ€æœ¯åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7qn7zn.com1.z0.glb.clouddn.com/æµ·è´¼2.jpg">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="http://7qn7zn.com1.z0.glb.clouddn.com/hmt.png" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">Tommy@è¿·ç³Šå°ä¹¦ç«¥</a></h1>
        </hgroup>

        
        <p class="header-subtitle">talk is cheap, show me your code</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>èœå•</li>
                        <li>æ ‡ç­¾</li>
                        
                        <li>å‹æƒ…é“¾æ¥</li>
                        
                        
                        <li>å…³äºæˆ‘</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">ä¸»é¡µ</a></li>
                        
                            <li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="/tommyyaphetshu@163.com" title="Email"></a></li>
                            
                                <li id="æ–°æµªå¾®åš"><a class="æ–°æµªå¾®åš" target="_blank" href="http://weibo.com/3356618724/profile?rightmod=1&wvr=6&mod=personinfo" title="æ–°æµªå¾®åš"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/ConanMTHu" title="GitHub"></a></li>
                            
                                <li id="Google"><a class="Google" target="_blank" href="https://www.google.com/?hl=zh-cn&gws_rd=ssl" title="Google"></a></li>
                            
                                <li id="Twitter"><a class="Twitter" target="_blank" href="https://twitter.com/" title="Twitter"></a></li>
                            
                                <li id="LinkedIn"><a class="LinkedIn" target="_blank" href="http://blog.csdn.net/hmt20130412" title="LinkedIn"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/AVFoundation-äºŒç»´ç /" style="font-size: 10px;">AVFoundation äºŒç»´ç </a> <a href="/tags/About-Me/" style="font-size: 10px;">About Me</a> <a href="/tags/AutoLayout/" style="font-size: 10px;">AutoLayout</a> <a href="/tags/Basic-KeyFrame/" style="font-size: 10px;">Basic KeyFrame</a> <a href="/tags/CAAnimation-CAMediaTiming/" style="font-size: 10px;">CAAnimation CAMediaTiming</a> <a href="/tags/CATransition/" style="font-size: 10px;">CATransition</a> <a href="/tags/Category-closure-objc-set-get/" style="font-size: 10px;">Category closure objc_set/get</a> <a href="/tags/Swiftå’ŒOCäº’è°ƒç”¨/" style="font-size: 10px;">Swiftå’ŒOCäº’è°ƒç”¨</a> <a href="/tags/Today/" style="font-size: 10px;">Today</a> <a href="/tags/hit-test/" style="font-size: 10px;">hit-test</a> <a href="/tags/imageView-æ€§èƒ½ä¼˜åŒ–/" style="font-size: 10px;">imageView æ€§èƒ½ä¼˜åŒ–</a> <a href="/tags/json-model/" style="font-size: 10px;">json model</a> <a href="/tags/network-request/" style="font-size: 10px;">network request</a> <a href="/tags/new-origin/" style="font-size: 10px;">new origin</a> <a href="/tags/pop/" style="font-size: 10px;">pop</a> <a href="/tags/protocol-MVVM-Mixins-Traits-composition/" style="font-size: 10px;">protocol MVVM Mixins Traits composition</a> <a href="/tags/tableview-cell/" style="font-size: 10px;">tableview cell</a> <a href="/tags/xctool/" style="font-size: 10px;">xctool</a> <a href="/tags/å•ä¾‹/" style="font-size: 10px;">å•ä¾‹</a> <a href="/tags/å›¾ç‰‡æµè§ˆ-Custom-push/" style="font-size: 10px;">å›¾ç‰‡æµè§ˆ Custom push</a> <a href="/tags/åŸºæœ¬æ¦‚å¿µ/" style="font-size: 10px;">åŸºæœ¬æ¦‚å¿µ</a> <a href="/tags/åŸºç¡€åŠ¨ç”»-UIKitå°è£…/" style="font-size: 10px;">åŸºç¡€åŠ¨ç”» UIKitå°è£…</a> <a href="/tags/å®-å°æŠ€å·§/" style="font-size: 10px;">å® å°æŠ€å·§</a> <a href="/tags/å°æŠ€å·§/" style="font-size: 10px;">å°æŠ€å·§</a> <a href="/tags/ç­–ç•¥/" style="font-size: 10px;">ç­–ç•¥</a> <a href="/tags/é€‚é…-AutoLayout/" style="font-size: 10px;">é€‚é… AutoLayout</a> <a href="/tags/é“¾æ¥-blog/" style="font-size: 10px;">é“¾æ¥ blog</a> <a href="/tags/é“¾æ¥-github-Demo/" style="font-size: 10px;">é“¾æ¥ github Demo</a> <a href="/tags/é¢è¯•é¢˜/" style="font-size: 10px;">é¢è¯•é¢˜</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">ç›¸ä¿¡codingèƒ½å¤Ÿæ”¹å˜ä¸–ç•Œçš„ITçˆ±å¥½è€…</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="å›åˆ°ä¸»é¡µ">Tommy@è¿·ç³Šå°ä¹¦ç«¥</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img lazy-src="http://7qn7zn.com1.z0.glb.clouddn.com/hmt.png" class="js-avatar">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="å›åˆ°ä¸»é¡µ">Tommy@è¿·ç³Šå°ä¹¦ç«¥</a></h1>
            </hgroup>
            
            <p class="header-subtitle">talk is cheap, show me your code</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">ä¸»é¡µ</a></li>
                
                    <li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="/tommyyaphetshu@163.com" title="Email"></a></li>
                            
                                <li id="æ–°æµªå¾®åš"><a class="æ–°æµªå¾®åš" target="_blank" href="http://weibo.com/3356618724/profile?rightmod=1&wvr=6&mod=personinfo" title="æ–°æµªå¾®åš"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/ConanMTHu" title="GitHub"></a></li>
                            
                                <li id="Google"><a class="Google" target="_blank" href="https://www.google.com/?hl=zh-cn&gws_rd=ssl" title="Google"></a></li>
                            
                                <li id="Twitter"><a class="Twitter" target="_blank" href="https://twitter.com/" title="Twitter"></a></li>
                            
                                <li id="LinkedIn"><a class="LinkedIn" target="_blank" href="http://blog.csdn.net/hmt20130412" title="LinkedIn"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-UIScrollViewæ±‡æ€»-æŒç»­æ›´æ–°" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/22/UIScrollViewæ±‡æ€»-æŒç»­æ›´æ–°/" class="article-date">
      <time datetime="2016-01-22T02:58:58.000Z" itemprop="datePublished">2016-01-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>title: UIScrollViewæ±‡æ€»(æŒç»­æ›´æ–°)<br>date: 2014-12-12 15:47:19<br>categories:</p>
<ul>
<li>UI<br>tags:</li>
<li>UIScrollView</li>
</ul>
<hr>
<p><code>UIScrollView</code>æ˜¯iOSå¼€å‘ä¸­å¯è°“æ˜¯æœ€å¸¸ç”¨çš„UIæ§ä»¶(å®ƒçš„ä¸¤ä¸ªå­ç±»,ä¸å¤šè¯´äº†â€¦)äº†,ä»‹äºç»å¸¸è¢«å®ƒä¸€äº›è«åçš„é—®é¢˜æ‰€å›°æ‰°,é‚åšä¸ªæ€»ç»“!(ç›—å›¾,è«éª‚æˆ‘ğŸ˜¢)<br><img src="http://hmtphoto.qiniudn.com/UIScrollView.png" alt=""><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
        <p class="article-more-link">
          <a  href="/2016/01/22/UIScrollViewæ±‡æ€»-æŒç»­æ›´æ–°/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-protocolMVVM" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/14/protocolMVVM/" class="article-date">
      <time datetime="2016-01-14T02:03:22.000Z" itemprop="datePublished">2016-01-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/14/protocolMVVM/">Swift é¢å‘Protocolç¼–ç¨‹æµ…æ:Inheritence-Composition-Protocol</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="u5F15"><a href="#u5F15" class="headerlink" title="å¼•"></a><font color="IndianRed">å¼•</font></h2><p>è®°å¾—ä»å¤§å­¦å­¦ç¼–ç¨‹å¼€å§‹,å¯¹äºè½¯ä»¶ç¼–ç¨‹å¬çš„æœ€å¤šçš„å°±æ˜¯<code>é¢å‘å¯¹è±¡ç¼–ç¨‹(Object Oriented Programmingï¼ŒOOP)</code>äº†,å®ƒçš„ä¸‰å¤§ç‰¹å¾:å°è£…,ç»§æ‰¿,å¤šæ€.è€ŒSwiftå€¡å¯¼çš„<code>é¢å‘åè®®ç¼–ç¨‹(Protocol-oriented programming,POP)</code>æ˜¯OOPçš„ä¸€ä¸ªèŒƒä¾‹,æˆ‘ç†è§£ä¸ºâ€å°è£…+åè®®*ç»“æ„ä½“+æ‰©å±•â€(Swift2.0å¼€å§‹,ä½ å¯ä»¥æ‰©å±•ä¸€ä¸ª<code>protocol</code>)<br><br><br><a href="https://developer.apple.com/videos/play/wwdc2015-408/">WWDC:Protocol-Oriented Programming in Swift</a>å¼€å¤´<code>Classess Are Awesome</code>,æŒ‡å‡ºOOPä¸­çš„<code>Classes</code>æä¾›äº†:æ•°æ®çš„å°è£…ã€è®¿é—®æ§åˆ¶ã€æŠ½è±¡åŒ–ã€å‘½åç©ºé—´ç­‰,ä½†è¿™äº›éƒ½æ˜¯<code>Classes</code>æ‰ç‰¹æœ‰çš„å±æ€§å—?äº‹å®ä¸Š,è¿™äº›éƒ½æ˜¯<code>ç±»å‹(Type)</code>çš„æ‰€æœ‰å±æ€§,<code>Classes</code>åªæ˜¯<code>Type</code>çš„ä¸€ç§å®ç°æ–¹æ³•,åœ¨Swiftä¸­<code>I can do all that with structs and enums</code>(Swiftçš„æ ‡å‡†åº“ç»„æˆ:55ä¸ªProtocolså’Œ102ä¸ªStructs),è¿™ä¸€ç‚¹å¯ä»¥ç†è§£ä¸ºå°è£…æ€§.è€Œç»§æ‰¿å’Œå¤šæ€,æ˜¯<code>struct</code>å’Œ<code>enum</code>ä¸å…·å¤‡çš„,å®ƒåˆ™æ˜¯é€šè¿‡éµå®ˆ<code>protocol</code>æ¥å®ç°.<br><br><br>ä½†,è¿™äº›æ˜¯ä¸ºäº†è¯´æ˜è®©æˆ‘ä»¬æ”¾å¼ƒ<code>OOP</code>å—?è¿™æ˜¯ä¸å¯èƒ½çš„â€¦.æƒ³æƒ³<code>UIKit</code>â€¦.è®°å¾—åˆšå¼€å§‹ç”¨Swiftå†™é¡¹ç›®æ—¶,æ€»æ˜¯å‘Šè¯«è‡ªå·±,ä¸èƒ½åªæ˜¯æœºæ¢°çš„æŠŠ<code>objc ç¿»è¯‘æˆ swift</code>.<font color="IndianRed">å®é™…å¼€å‘é¡¹ç›®ä¸­,<code>ViewControl</code>å’Œ<code>View</code>åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨ç³»ç»Ÿçš„æ¡†æ¶,é€šè¿‡ç»§æ‰¿æ¥å®ç°,æ— è®ºå¦‚ä½•çš„è‡ªå®šä¹‰,éƒ½æ˜¯è¦å›´ç»•è‹¹æœçš„é‚£ä¸€å¥—æ¥,OCä¸swiftåœ¨è¿™ä¸€å—ä¿æŒä¸€è‡´;ä½†åœ¨<code>model</code>å’Œ<code>handle/viewModel/manager</code>è¿™ä¸€å—,æ›´å¤šçš„é€šè¿‡POPå®ç°,åé¢ä¼šé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜.</font>(PS:åœ¨ocä¸­,æˆ‘ä»¬ä½“ä¼šçš„æ˜¯OOP/FRP(å‚è€ƒä¸€ä¸‹<code>RAC</code>),é‚£Swiftå°±æ˜¯OOP/FRP(å‚è€ƒä¸€ä¸‹<code>RxSwift</code>)/POP;åœ¨ocä¸­å¯¹äºProtocolsçš„ç†è§£æ›´å¤šçš„æ˜¯<code>UIAppplicationDelegate,UITableViewDelegete,NSCopying,UITextFieldDelegate....</code>,è€ŒSwiftä¸­Protocolsåˆ™è¢«èµ‹äºˆäº†æ›´å¤šçš„åŠŸèƒ½å’Œæ„ä¹‰:â€å¯å®šä¹‰å±æ€§,å¯ç»„åˆ,å¯ç»§æ‰¿,å¯æ‰©å±•,æ”¯æŒæ³›å‹,æ”¯æŒç±»/ç»“æ„ä½“/æšä¸¾â€).åœ¨<a href="http://www.cocoachina.com/swift/20150729/12824.html">Swifté¢å‘åè®®ç¼–ç¨‹åˆæ¢</a>ä¸­,bzæ€»ç»“çš„ä¸€å¥è¯,éå¸¸nice:<br><code>é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œé¢å‘åè®®ç¼–ç¨‹æœ€æ˜æ˜¾çš„åŒºåˆ«åœ¨äºç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­å¯¹æ•°æ®ç±»å‹çš„æŠ½å–(æŠ½è±¡)ä¸Šï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ä½¿ç”¨ç±»å’Œç»§æ‰¿çš„æ‰‹æ®µï¼Œæ•°æ®ç±»å‹æ˜¯å¼•ç”¨ç±»å‹</code><br><code>é¢å‘åè®®ç¼–ç¨‹ä½¿ç”¨çš„æ˜¯éµå®ˆåè®®çš„æ‰‹æ®µï¼Œæ•°æ®ç±»å‹æ˜¯å€¼ç±»å‹ï¼ˆSwiftä¸­çš„ç»“æ„ä½“æˆ–æšä¸¾)</code><br>PS:<code>å€¼ç±»å‹</code>å’Œ<code>å¼•ç”¨ç±»å‹</code>çš„åŒºåˆ«è¿™é‡Œä¸ä½œè¯¦å™,å¯å‚è€ƒ<a href="http://swift.gg/2015/08/14/friday-qa-2015-07-17-when-to-use-swift-structs-and-classes/">Swiftï¼šä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç»“æ„ä½“å’Œç±»</a><br><br></p>
<h2 id="u8BA8_u538C_u7684_u201D_u4E0A_u5E1D_u201D_28Inheritence_29"><a href="#u8BA8_u538C_u7684_u201D_u4E0A_u5E1D_u201D_28Inheritence_29" class="headerlink" title="è®¨åŒçš„â€ä¸Šå¸â€(Inheritence)"></a><font color="IndianRed">è®¨åŒçš„â€ä¸Šå¸â€(Inheritence)</font></h2><p><code>ç»§æ‰¿</code>å¸¦ç»™æˆ‘ä»¬æœ€å¤§çš„é—®é¢˜,å¯èƒ½å°±æ˜¯å¸¸å¸¸ä¼šæ„é€ å‡ºæ‰€è°“çš„<code>Godç±»/superç±»</code>,å¸¦æ¥çš„åå¤„ä¹Ÿéšä¹‹å¯è§:</p>
<ul>
<li>ä¸€å±‚ä¸€å±‚ä¸€å±‚çš„ä¼ é€’ä¸‹å»,å®ƒçš„ä»»ä½•è¡Œä¸ºéƒ½ä¼šå½±å“å®ƒçš„æ‰€æœ‰å°å¼Ÿ;  </li>
<li>æœ‰çš„å°å¼Ÿç»§æ‰¿äº†æ— ç”¨çš„å±æ€§å’Œæ–¹æ³•;  </li>
<li>ä¸æ–¹ä¾¿æ‰©å±•,å·®åˆ«ä¸å¤§çš„åŒç±»ä¸Šå¸,ç›´æ¥æ‹·è´ä¸€éä»£ç ?<br>ç‰¹åˆ«å–œæ¬¢<a href="http://casatwy.com/tiao-chu-mian-xiang-dui-xiang-si-xiang-yi-ji-cheng.html">ç”°ä¼Ÿå®‡åšå®¢:è·³å‡ºé¢å‘å¯¹è±¡æ€æƒ³(ä¸€) ç»§æ‰¿</a>ä¸­æåˆ°å…³äº<code>ç»§æ‰¿</code>çš„è¦ç‚¹ä¹‹ä¸€:çˆ¶ç±»çš„æ‰€æœ‰å˜åŒ–ï¼Œéƒ½éœ€è¦åœ¨å­ç±»ä¸­ä½“ç°ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶è€¦åˆå·²ç»æˆä¸ºéœ€æ±‚.(ä»–çš„æ–‡ç« éå¸¸nice,åœ¨æ¶æ„è¿™ä¸€å—çš„å†™çš„ç³»åˆ—æ–‡ç« å€¼å¾—æ·±è¯»)so,LZçš„è§‚ç‚¹ä¹Ÿæ˜¯<code>ä¸‡ä¸å¾—å·²ä¸è¦ç”¨ç»§æ‰¿,ä¼˜å…ˆè€ƒè™‘ç»„åˆ</code>!<br>æ³¨:åœ¨objcä¸­,æ›´å¤šçš„æ˜¯ç”¨<code>ç»„åˆ(Composition)</code>,åœ¨Swiftä¸­åˆ™æ˜¯<code>åè®®&gt;ç»„åˆ&gt;ç»§æ‰¿</code>.åé¢ä¼šä¸¾ä¾‹è¯´æ˜.<br>å†æ³¨:å…¨æ–‡çš„Demoåœ¨<a href="https://github.com/ConanMTHu/SwiftProtocol">è¿™é‡Œ</a><br>æˆ‘ä»¬é€šè¿‡ä¸¤å¼ å›¾å¯¹æ¯”ä¸€ä¸‹:å¼•ç”¨è‡ª<a href="http://www.kancloud.cn/luofei614/programmer_talk_life/107498">ç¨‹åºå‘˜èŠäººç”Ÿ</a>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Swift/">Swift</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/protocol-MVVM-Mixins-Traits-composition/">protocol MVVM Mixins Traits composition</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/14/protocolMVVM/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-UIScrollViewAndUIImageView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/21/UIScrollViewAndUIImageView/" class="article-date">
      <time datetime="2015-12-21T10:50:45.000Z" itemprop="datePublished">2015-12-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/21/UIScrollViewAndUIImageView/">UIScrollViewå±•ç¤ºå›¾ç‰‡çš„ä¸‰æ¬¡å‡çº§</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>ç‰¹æ®Šæƒ…å†µæ¥éœ€æ±‚äº†,è¿˜åœ¨å¡«å‘ä¸­!</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Swift/">Swift</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/imageView-æ€§èƒ½ä¼˜åŒ–/">imageView æ€§èƒ½ä¼˜åŒ–</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Moya" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/15/Moya/" class="article-date">
      <time datetime="2015-12-15T06:42:49.000Z" itemprop="datePublished">2015-12-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/15/Moya/">Swift Moya</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>ç½‘ç»œå±‚è¿™ä¸€å—ç”¨<a href="https://github.com/Alamofire/Alamofire">Alamofire</a>,å¦‚åŒäºåœ¨ocä¸­ç”¨<a href="https://github.com/AFNetworking/AFNetworking">AFNetworking</a>.ä½†æ˜¯,å¦‚æœä½ ç›´æ¥ä½¿ç”¨çš„è¯,ä¼šä½¿å¾—å„ç§ç½‘ç»œè¯·æ±‚æ“ä½œåˆ†å¸ƒå¾ˆå‡Œä¹±,æ‰€ä»¥æˆ‘é€‰æ‹©äº†å·§ç¥å°è£…çš„<a href="https://github.com/yuantiku/YTKNetwork">YTKNetwork</a>,å¾ˆå¥½ç”¨,æœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹.å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±ç»„ç»‡å°è£….<br>è¿™æ®µä»£ç å°±æ˜¯LZé¡¹ç›®ä¸­çš„ç½‘ç»œè¯·æ±‚:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *parameterDic = @&#123;<span class="string">kPageSizeKey:</span>@<span class="string">"10"</span>,<span class="string">kCurPageKey:</span>@<span class="string">"1"</span>,<span class="string">kLastIDKey:</span>@<span class="string">"0"</span>&#125;;</span><br><span class="line">[[WCRequestDataManager sharedRequestDataManager] <span class="string">requestDataForNetWorkWithDataHandleType:</span>WCProductListDataHandleType</span><br><span class="line"><span class="label">    parameterDic:</span>parameterDic</span><br><span class="line"><span class="label">    completed:</span>^(WCProductResultModel *resultModel) &#123;&#125;</span><br><span class="line"><span class="label">    failure:</span>^(NSString *msg) &#123;&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<ul>
<li><code>parameterDic</code>å°±æ˜¯è¯·æ±‚æ‰€éœ€çš„å‚æ•°,å¦‚æœæ²¡æœ‰ç›´æ¥ä¼ å…¥<code>nil</code>  </li>
<li><code>WCProductListDataHandleType</code>æ˜¯æšä¸¾ç±»å‹,ä½ å¯ä»¥ç†è§£ä¸ºå®ƒå¯¹åº”äº†<code>äº§å“åˆ—è¡¨</code>ç½‘ç»œè¯·æ±‚çš„<code>method(GET/POST)</code>,<code>URL</code>ç­‰ç­‰  </li>
<li><code>completed</code>å’Œ<code>failure</code>2ä¸ªblockåˆ†åˆ«å¯¹åº”è¯·æ±‚<code>æˆåŠŸ</code>å’Œ<code>å¤±è´¥</code>ä¸¤ç§æƒ…å†µ,å¹¶è¿”å›é¡µé¢éœ€è¦çš„modelå’Œå¤±è´¥çš„ä¿¡æ¯  </li>
<li>æ•°æ®è§£æç›´æ¥åœ¨å¯¹åº”çš„<code>RequestHandle</code>ä¸­,ä¿è¯è¿”å›å¯¹åº”çš„model-&gt;<code>WCProductResultModel</code>  </li>
</ul>
<p>é‚£ä¹ˆSwiftä¸­æ¨èä¸€ä¸‹<a href="https://github.com/Moya/Moya">Moya</a>,è¿™æ˜¯ä¸€ä¸ªåŸºäº<code>Alamofire</code>çš„æ›´é«˜å±‚ç½‘ç»œè¯·æ±‚å°è£…æŠ½è±¡å±‚.<br><strong>æ•´ä¸ªDemoå¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ°:<a href="https://github.com/ConanMTHu/MoyaTest">MoyaTest</a></strong><br>å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ç›´æ¥ç”¨<code>Alamofire</code>å’Œç”¨<code>Moya</code>è¯·æ±‚æ ·å¼:</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Alamofire</span>.request(.<span class="type">GET</span>, kRequestServerKey + <span class="string">"services/creditor/product/list/page/2/0/0"</span>).responseJSON &#123;</span><br><span class="line">    response <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> value = response.<span class="literal">result</span>.value &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="literal">result</span> = <span class="type">Mapper</span>&lt;<span class="type">CommonInfo</span>&gt;().map(value)</span><br><span class="line">        <span class="keyword">let</span> dataList = <span class="type">Mapper</span>&lt;<span class="type">ProductModel</span>&gt;().mapArray(<span class="literal">result</span>?.data?[<span class="string">"result"</span>])</span><br><span class="line">        print(<span class="string">"Alamofire = \(dataList?[0].productDesc)"</span>) // <span class="type">Alamofire</span> = <span class="type">Optional</span>(<span class="string">"gfhgfgfhgshgdsfdshgfshfgh"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">MoyaTest</span>.sharedInstance.requestDataWithTarget(.productList(pageSize: <span class="number">2</span>, curpage: <span class="number">0</span>, lastID: <span class="number">0</span>), <span class="keyword">type</span>: <span class="type">ProductModel</span>.self, successClosure: &#123; <span class="literal">result</span> <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">let</span> dataList = <span class="type">Mapper</span>&lt;<span class="type">ProductModel</span>&gt;().mapArray(<span class="literal">result</span>[<span class="string">"result"</span>])</span><br><span class="line">        print(<span class="string">"Moya = \(dataList?[0].productDesc)"</span>) // <span class="type">Moya</span> = <span class="type">Optional</span>(<span class="string">"gfhgfgfhgshgdsfdshgfshfgh"</span>)</span><br><span class="line">    &#125;) &#123; errorMsg <span class="keyword">in</span></span><br><span class="line">        print(errorMsg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯è§,ç¬¬äºŒç§éšè—äº†<code>url</code>,<code>method</code>,<code>jsonè§£æ</code>ç­‰å‚æ•°/æ“ä½œ,æŠ½è±¡å‡ºäº†ä¸€å±‚é€šç”¨çš„è¯·æ±‚æ–¹æ³•.(æŒ‰ç†è¯´<code>Mapper&lt;ProductModel&gt;().mapArray(result[&quot;result&quot;])</code>ä¸åº”è¯¥å‡ºç°åœ¨å›è°ƒçš„é—­åŒ…ä¸­,è¿”å›çš„å°±åº”è¯¥æ˜¯<code>productList</code>è¯·æ±‚å¯¹åº”çš„model,å¦åˆ™<code>type</code>è¿™ä¸ªå‚æ•°å°±æ²¡æœ‰æ„ä¹‰äº†,è¿™ä¸ªæ¢—ä¼šåœ¨ä¸‹é¢è¯´åˆ°)  </p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Swift/">Swift</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network-request/">network request</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/12/15/Moya/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-AddCategoryProperty" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/11/AddCategoryProperty/" class="article-date">
      <time datetime="2015-12-11T10:10:14.000Z" itemprop="datePublished">2015-12-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/11/AddCategoryProperty/">Swift Closureä¸AnyObjectåœ¨Extensionä¸­çš„è½¬æ¢</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>LZä¸ªäººå¾ˆå–œæ¬¢ç”¨<code>blcok</code>,<code>RAC</code>ä¸­ä¹Ÿæ˜¯å„ç§çš„blockè°ƒç”¨,æ¯”å¦‚å¯¹UIButtonçš„ç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xxxButton.rac_command = [[RACCommand alloc] <span class="string">initWithSignalBlock:</span>^RACSignal *(UIButton *button) &#123;</span><br><span class="line">                <span class="comment">// äº‹ä»¶å¤„ç†</span></span><br><span class="line">                <span class="keyword">return</span> [RACSignal empty];</span><br><span class="line">            &#125;];</span><br></pre></td></tr></table></figure>
<p>blockçš„å½¢å¼èƒ½å¤Ÿè®©ä»£ç æ›´åŠ çš„ç´§å‡‘,è®©äº‹ä»¶çš„å“åº”å¤„ç†ç´§è·Ÿå±æ€§å¯¹è±¡çš„è®¾ç½®.  </p>
<p>ä¸ç”¨RACçš„è¯,æˆ‘ä»¬é€šå¸¸é‡‡å–<code>Category</code>çš„æ–¹å¼æ¥å®ç°:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å”¯ä¸€é™æ€å˜é‡key</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span> blockKey;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UIButton</span> (<span class="title">Block</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)handleControlEvent:(<span class="built_in">UIControlEvents</span>)event withBlock:(ActionBlock)block &#123;</span><br><span class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, &amp;blockKey, block, OBJC_ASSO<span class="built_in">CIATION_COPY_NONATOMIC</span>);</span><br><span class="line">    [<span class="keyword">self</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(callActionBlock:) forControlEvents:event];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)callActionBlock:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">    ActionBlock block = (ActionBlock)objc_getAssociatedObject(<span class="keyword">self</span>, &amp;blockKey);</span><br><span class="line">    <span class="keyword">if</span> (block) &#123;</span><br><span class="line">        block();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å› ä¸º<code>Category</code>ä¸­å¹¶ä¸èƒ½æ·»åŠ å®ä¾‹å±æ€§,æ‰€ä»¥è¦é€šè¿‡<code>runtime</code>çš„å…³è”æ€§æ¥å®ç°.</strong>  </p>
<p>åŒç†,åœ¨Swiftä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„,<code>Extension</code>ä¸­ä¸èƒ½æ·»åŠ å­˜å‚¨å±æ€§(ä½†æ˜¯å¯ä»¥æ·»åŠ è®¡ç®—å±æ€§),ä¹Ÿè¦é€šè¿‡è¿è¡Œæ—¶çš„<code>getå’Œset Associated Object</code>æ¥å®ç°.  </p>
<p><font color="red">ä¸è¿‡,åœ¨Swiftä¸­,<code>Closure(é—­åŒ…)</code>å¹¶ä¸å±äº<code>AnyObject</code>,ä¸åƒocä¸­blockå¯ä»¥ä½œä¸ºidå¯¹è±¡!å› æ­¤,éœ€è¦åšä¸€ä¸ªç›¸äº’è½¬æ¢</font>.è½¬æ¢çš„æ–¹æ³•åœ¨ä¸‡èƒ½çš„<code>stackoverflow</code>ä¸­æ‰¾åˆ°äº†,<a href="http://stackoverflow.com/questions/24586293/cast-closures-blocks" target="_blank" rel="external">ç‚¹æˆ‘</a><br><br></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> closureKey: <span class="type">Void</span>?</span><br><span class="line"><span class="keyword">typealias</span> <span class="type">ActionClosure</span> = <span class="preprocessor">@convention</span>(block) () -&gt; ()</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIButton</span> </span>&#123;</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">handleControlEvent</span><span class="params">(event: UIControlEvents,closure: ActionClosure)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> dealObject: <span class="type">AnyObject</span> = <span class="built_in">unsafeBitCast</span>(closure, <span class="type">AnyObject</span>.<span class="keyword">self</span>)</span><br><span class="line">        objc_setAssociatedObject(<span class="keyword">self</span>, &amp;closureKey, dealObject, .<span class="type">OBJC_ASSOCIATION_COPY_NONATOMIC</span>)</span><br><span class="line">        <span class="keyword">self</span>.addTarget(<span class="keyword">self</span>, action: <span class="string">"callActionClosure:"</span>, forControlEvents: event)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">callActionClosure</span><span class="params">(btn: UIButton)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> closureObject: <span class="type">AnyObject</span> = objc_getAssociatedObject(<span class="keyword">self</span>, &amp;closureKey)</span><br><span class="line">        <span class="keyword">let</span> closure = <span class="built_in">unsafeBitCast</span>(closureObject, <span class="type">ActionClosure</span>.<span class="keyword">self</span>)</span><br><span class="line">        closure()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚ä½•æ·»åŠ è®¡ç®—å±æ€§,å‚ç…§å–µå¤§å¤§çš„<code>SWIFTER</code>çš„<code>Associated Object</code>ç« èŠ‚.  </li>
<li><code>&amp;closureKey</code>,å‚ç…§å–µå¤§å¤§çš„<code>SWIFTER</code>çš„<code>UnsafePointer</code>ç« èŠ‚.  </li>
</ul>
<p>å¦‚ä¸Š,æˆ‘ä»¬å°±è¿™æ ·çš„è°ƒç”¨äº†:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let btn = UIButton(<span class="string">type:</span> .ContactAdd)</span><br><span class="line">btn.frame = CGRect(<span class="string">x:</span> <span class="number">100</span>,<span class="string">y:</span> <span class="number">100</span>,<span class="string">width:</span> <span class="number">30</span>,<span class="string">height:</span> <span class="number">30</span>)</span><br><span class="line">self.view.addSubview(btn)</span><br><span class="line">btn.handleControlEvent(.TouchUpInside) &#123;</span><br><span class="line">    print(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Swift/">Swift</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Category-closure-objc-set-get/">Category closure objc_set/get</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-swiftjson" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/29/swiftjson/" class="article-date">
      <time datetime="2015-11-28T17:27:37.000Z" itemprop="datePublished">2015-11-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/29/swiftjson/">SwiftyJson + ObjectMapper + Argo</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>å­¦ä¹ Swiftä¸€æ®µæ—¶é—´å,æ¥ä¸‹æ¥çš„æ–¹æ³•å°±æ˜¯æ‰¾ä¸ªé¡¹ç›®æ¥ç»ƒæ‰‹äº†,äºæ˜¯LZå°±å†³å®šç©ºä½™æ—¶é—´ç”¨Swifté‡å†™ç›®å‰çš„æ•´ä¸ªé¡¹ç›®.é‰´äºUIéœ€æ±‚å˜å¹»è«æµ‹,1.0åæ²¡å¤šä¹…åˆæ¥çš„2.0â€¦è¿˜æ˜¯å…ˆä»ç¨³å®šçš„<code>æ•°æ®å±‚</code>å’Œ<code>ç½‘ç»œå±‚</code>ç€æ‰‹.^_^<br><code>json &lt;-&gt; model</code>è¿™ä¸€å—é€‰äº†3ä¸ªç¬¬ä¸‰æ–¹åº“,å¦‚æ ‡é¢˜,åˆ†æä¸€ä¸‹å®ƒä»¬å„è‡ªçš„ç”¨æ³•å’Œæ€»ç»“.<br><br></p>
<h2 id="SwiftyJson"><a href="#SwiftyJson" class="headerlink" title="SwiftyJson"></a><font color="IndianRed">SwiftyJson</font></h2><p><a href="https://github.com/SwiftyJSON/SwiftyJSON">SwiftyJson</a>ç®—æ˜¯æœ€æ—©å¬è¿‡çš„Swiftç¬¬ä¸‰æ–¹åº“äº†,ä¸è¿‡ä¸€ç›´éƒ½æ²¡ç”¨è¿‡..å›§..ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆç®€å•çš„:</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Alamofire</span>.request(.<span class="type">GET</span>, kRequestServerKey + <span class="string">"services/wecube/user/msg/shareItem/INVEST_SHARE_ITEM"</span>).responseJSON &#123;</span><br><span class="line">    response <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> value = response.<span class="literal">result</span>.value &#123;</span><br><span class="line">        <span class="keyword">let</span> json = <span class="type">JSON</span>(value)</span><br><span class="line">        print(json)</span><br><span class="line">        print(json[<span class="string">"data"</span>].dictionaryObject)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://7qn7zn.com1.z0.glb.clouddn.com/jsonmodel.png" alt=""><br>å…·ä½“çš„ç”¨æ³•å¯ä»¥å‚åŠ å®ƒçš„githubåœ°å€,åˆ—ä¸¾çš„å¾ˆè¯¦ç»†äº†,æ¥è°ˆè°ˆå‡ ç‚¹:  </p>
<ul>
<li>æˆ‘ä»¬océ¡¹ç›®ä¸­ç”¨<code>MJExtension</code>æˆ–è€…<code>YYModel</code>å¯ä»¥åšåˆ°å®šä¹‰å¥½modelå±æ€§,è‡ªåŠ¨å®Œæˆèµ‹å€¼.<code>SwiftyJson</code>æ²¡æœ‰æä¾›è·Ÿmodelçš„æ˜ å°„,è€Œæ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»èµ‹å€¼,æ¯”å¦‚ä¾‹å­ä¸­çš„<code>json[&quot;data&quot;]</code>,å¦‚æœå±‚çº§æœ‰3å±‚ä»¥å,å°±ä¼šè¿™æ ·<code>json[xxx][xxx][xxx][&quot;name&quot;]</code>,å…¶å®å–å€¼è²Œä¼¼ä¹Ÿå°±æ˜¯è¿™æ ·çš„â€¦åªæ˜¯å¦‚æœæˆ‘ä¸å°å¿ƒå†™é”™äº†key,è¿™åº”è¯¥æ˜¯æˆ‘ä¸é€‰æ‹©å®ƒçš„ä¸»è¦åŸå› .      </li>
<li>ç”±äºSwiftæ˜¯ä¸€ç§ä¸¥æ ¼çš„ç±»å‹å®‰å…¨è¯­è¨€.è™½ç„¶è¿™æ ·æœ‰åˆ©äºæˆ‘ä»¬å‡å°‘é”™è¯¯,ä½†æ˜¯å¯¹äºjsonè¿™ç§å¤©ç”Ÿå°±æ˜¯éšå¼ç±»å‹çš„æ•°æ®ç»“æ„,å°±å¾ˆè›‹ç–¼äº†.<code>SwiftyJson</code>å¾ˆå¥½çš„è§£å†³äº†,jsonè§£æè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°çš„<code>if-let</code><strong>é‡‘å­—å¡”</strong>(å¦‚ä¸‹)æˆ–å¯é€‰ç”¨é“¾.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> <span class="keyword">let</span> statusesArray = <span class="keyword">try</span>? NSJSONSerialization.JSONObjectWithData(data, options: .AllowFragments) <span class="keyword">as</span>? [[<span class="built_in">String</span>: AnyObject]],</span><br><span class="line">    <span class="keyword">let</span> user = statusesArray[<span class="number">0</span>][<span class="string">"user"</span>] <span class="keyword">as</span>? [<span class="built_in">String</span>: AnyObject] &#123;</span><br><span class="line">      <span class="keyword">let</span> username = user[<span class="string">"name"</span>] <span class="keyword">as</span>? <span class="built_in">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> xxx = xxxx[<span class="string">"xxxx"</span>] <span class="keyword">as</span>? <span class="built_in">String</span> &#123;</span><br><span class="line">        <span class="comment">//   å¥½æ¶å¿ƒå•Š........</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>é’ˆå¯¹ç¬¬äºŒç‚¹,ä¸ºä»€ä¹ˆ<code>SwiftyJson</code>çš„è§£æä¸éœ€è¦æ‹…å¿ƒå¯é€‰çš„crash?çœ‹ä¸ªæ —å­:</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if let imageUrl = json[<span class="link_label">"data"</span>][<span class="link_reference">"imageUrl_test"</span>].string&#123;</span><br><span class="line"><span class="code">    // è°ƒç”¨ä¸å­˜åœ¨çš„["imageUrl_test"]ä¹Ÿä¸ä¼šcrash,.stringæœ€ç»ˆèƒ½å®‰å…¨çš„è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Swift/">Swift</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/json-model/">json model</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/29/swiftjson/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-facebookpop" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/26/facebookpop/" class="article-date">
      <time datetime="2015-11-26T03:14:23.000Z" itemprop="datePublished">2015-11-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/26/facebookpop/">Facebook POPä½¿ç”¨ä»‹ç»</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h2 id="u5951_u673A"><a href="#u5951_u673A" class="headerlink" title="å¥‘æœº"></a><font color="IndianRed">å¥‘æœº</font></h2><p>é¡¹ç›®æœ€è¿‘åŠ äº†ä¸ªéœ€æ±‚,ç»Ÿè®¡æ‰€å¾—æ”¶ç›Šçš„é‡‘é¢(LZåšçš„appé‡‘èå±æ€§å¾ˆå¼º)è¦åƒä½™é¢å®ä¸€æ ·å¸¦è·³åŠ¨æ•ˆæœ.ç½‘ä¸Šæ‰¾åˆ°ç¯‡æ–‡ç« å¯ä»¥å®ç°<a href="http://www.tuicool.com/articles/uARRrq">è¿™é‡Œ</a>,ä¸è¿‡æ„Ÿè§‰å¾ˆéº»çƒ¦,å†æŸ¥äº†ä¸€ä¸‹è¯´<a href="https://github.com/facebook/pop">POP</a>å¯ä»¥å®ç°,é¡ºä¾¿æ¥ä»‹ç»ä¸‹,è™½ç„¶å·²ç»å‡ºæ¥å¾ˆä¹…äº†â€¦so-&gt;ä¸ŠDemo</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">let numberJumpAnimation = POPBasicAnimation()</span><br><span class="line">numberJumpAnimation.fromValue = 0</span><br><span class="line">numberJumpAnimation.toValue = 267493.32</span><br><span class="line">numberJumpAnimation.duration = 2.0</span><br><span class="line">numberLabel.pop_addAnimation(numberJumpAnimation, forKey: <span class="string">"numberJumpAnimation"</span>)</span><br><span class="line"></span><br><span class="line">let <span class="keyword">prop</span> = POPMutableAnimatableProperty()</span><br><span class="line"><span class="keyword">prop</span>.name = <span class="string">"jump number"</span></span><br><span class="line"><span class="keyword">prop</span>.writeBlock = &#123; (obj:AnyObject!,values:UnsafePointer&lt;CGFloat&gt;) -&gt; Void <span class="keyword">in</span></span><br><span class="line">    let <span class="keyword">label</span> = obj <span class="keyword">as</span>! UILabel</span><br><span class="line">    <span class="keyword">label</span>.text = <span class="literal">String</span>(<span class="literal">round</span>(values[0]*100)/100)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">prop</span>.threshold = 0.01;</span><br><span class="line">numberJumpAnimation.property = <span class="keyword">prop</span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹:  </p>
<p><center><img src="http://7qn7zn.com1.z0.glb.clouddn.com/numberjump.gif" alt=""></center><br><br></p>
<h2 id="Facebook_u51FA_u54C1__u5FC5_u5C5E_u7CBE_u54C1"><a href="#Facebook_u51FA_u54C1__u5FC5_u5C5E_u7CBE_u54C1" class="headerlink" title="Facebookå‡ºå“ å¿…å±ç²¾å“"></a><font color="IndianRed">Facebookå‡ºå“ å¿…å±ç²¾å“</font></h2><p><code>Facebook POP</code>æ˜¯åŸºäº<code>CADisplayLink</code>å®ç°çš„ç‹¬ç«‹äºCore Animationä¹‹å¤–çš„åŠ¨ç”»å¼•æ“.<code>POP</code>åœ¨ä½¿ç”¨ä¸Šå’ŒCore Animationå¾ˆç›¸ä¼¼,éƒ½æ¶‰åŠAnimationå¯¹è±¡ä»¥åŠAnimationçš„è½½ä½“çš„æ¦‚å¿µ,<font color="#ce1f48">ä¸åŒçš„æ˜¯Core Animationçš„è½½ä½“åªèƒ½æ˜¯<code>CALayer</code>,è€Œ<code>POP</code> å¯ä»¥æ˜¯ä»»æ„åŸºäº<code>NSObject</code>çš„å¯¹è±¡.</font><br><code>POP</code>æ”¯æŒ4ç§ç±»å‹:</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POPBasicAnimation</span><br><span class="line"></span><span class="keyword">POPSpringAnimation</span><br><span class="line"></span><span class="keyword">POPDecayAnimation</span><br><span class="line"></span><span class="keyword">POPCustomAnimation</span></span><br></pre></td></tr></table></figure>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Animation/">Animation</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pop/">pop</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/26/facebookpop/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-TheSinInSingleton" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/15/TheSinInSingleton/" class="article-date">
      <time datetime="2015-11-15T06:59:53.000Z" itemprop="datePublished">2015-11-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/15/TheSinInSingleton/">è®¾è®¡æ¨¡å¼(ä¸‰)ä¹‹å•ä¾‹æ¨¡å¼(è¯‘)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>æƒ³æ¥æ€»ç»“å•ä¾‹æ¨¡å¼,ä½†å®ƒå¯èƒ½æ˜¯æˆ‘ä»¬æœ€æ—©æ¥è§¦å´ä¹Ÿæ˜¯éšçŸ¥è¯†å¢é•¿è€Œå˜å¾—æœ€å«Œå¼ƒçš„è®¾è®¡æ¨¡å¼äº†.(æ®è¯´å»é¢è¯•çš„æ—¶å€™,é¢è¯•å®˜é—®ä½ ç”¨åˆ°è¿‡ä»€ä¹ˆè®¾è®¡æ¨¡å¼,å¦‚æœä½ åªç­”å•ä¾‹,ä¼šè¢«é„™è§†)<br>çœ‹åˆ°ä¸€éæ–‡ç« ,è®²çš„å¾ˆä¸é”™,å°±æ‹¿æ¥ç¿»è¯‘ä¸€ä¸‹(ä¸ªäººè‹±è¯­ç•¥æŒ«,ä¸è¦å«Œå¼ƒâ€¦)<br>@åˆ—å‡ºå•ä¾‹çš„å†™æ³•:<br>ocç‰ˆ</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ (instancetype)sharedInstance</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> once;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">id</span> sharedInstance;</span><br><span class="line">    <span class="built_in">dispatch_once</span>(&amp;once, ^&#123;</span><br><span class="line">        sharedInstance = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> sharedInstance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Swiftç‰ˆ</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">SharedInstance</span>  &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">let</span> signleModel = SharedInstance()</span><br><span class="line">    <span class="keyword">class</span> <span class="title">var</span> <span class="title">sharedInstance</span> : <span class="title">SharedInstance</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> signleModel</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŸæ–‡:<a href="https://sandofsky.com/blog/singletons.html#161c:fn:1">The Sin in Singleton</a><br>å†æ¨èä¸€ç¯‡objc.ioçš„æ–‡ç« :<a href="http://objccn.io/issue-13-2/">é¿å…æ»¥ç”¨å•ä¾‹</a>  </p>
<p>å•ä¾‹å¹¶ä¸æ˜¯ä¸€ç§â€åæ¨¡å¼â€,ä½†å®ƒå´æ˜¯ä¸€ç§â€è¢«æ»¥ç”¨â€çš„æ¨¡å¼.å®ƒçš„æ–¹ä¾¿æ€§ä½¿å¾—å®ƒå¾ˆå—åˆå­¦è€…çš„æ¬¢è¿.ä½†å®ƒä»¬å¢åŠ äº†å¤æ‚æ€§çš„ä¸‹çº¿,å¹¶ä¸”å¸¦æ¥äº†ä»¤äººæŠ“ç‹‚çš„bug.  </p>
<p>è®©æˆ‘ä»¬ä»å®ƒçš„æ­£é¢æ€§å¼€å§‹è®²èµ·.æœ‰æ—¶,ä½ éœ€è¦ä¿æŒä¸€ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹æ¥è¡¨ç¤º.æ¯”å¦‚<code>UIApplication:</code></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UIApplication<span class="class">.sharedApplication</span><span class="class">.applicationIconBadgeNumber</span> = <span class="number">0</span></span><br><span class="line">UIApplication<span class="class">.sharedApplication</span><span class="class">.applicationIconBadgeNumber</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å¯èƒ½èƒ½å¤Ÿæ›´åŠ è¯´æ˜:<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/è®¾è®¡æ¨¡å¼/">è®¾è®¡æ¨¡å¼</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å•ä¾‹/">å•ä¾‹</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/15/TheSinInSingleton/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-åŸºäºé¡¹ç›®æŸå¤„å›¾ç‰‡æµè§ˆéœ€æ±‚å¼•å‘çš„è›‹ç–¼" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/06/åŸºäºé¡¹ç›®æŸå¤„å›¾ç‰‡æµè§ˆéœ€æ±‚å¼•å‘çš„è›‹ç–¼/" class="article-date">
      <time datetime="2015-11-06T08:42:19.000Z" itemprop="datePublished">2015-11-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/06/åŸºäºé¡¹ç›®æŸå¤„å›¾ç‰‡æµè§ˆéœ€æ±‚å¼•å‘çš„è›‹ç–¼/">åŸºäºé¡¹ç›®æŸå¤„å›¾ç‰‡æµè§ˆéœ€æ±‚å¼•å‘çš„XX</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>ä¸€ç›´ä»¥æ¥éƒ½åœ¨æƒ³æ‡‚å¾®ä¿¡/æ–°æµªå¾®åšç‚¹å‡»å›¾ç‰‡æ”¾å¤§æµè§ˆçš„æ•ˆæœç©¶ç«Ÿæ˜¯æ€ä¹ˆæ ·çš„,ç¢°å·§é¡¹ç›®æœ€è¿‘é‡åˆ°ä¸€ç§ç±»ä¼¼çš„æƒ…å†µ,å°±åŠ¨æ‰‹å®è·µäº†ä¸‹,åœ¨å°è¯•äº†å„ç§è®¾ç½®è€Œå‡ºç°çš„å¥‡è‘©æ•ˆæœ,æš‚æ—¶æ€§çš„å®ç°äº†ä¸€ç§è¿˜ç®—ä¸æ»‘è¿‡æ¸¡æ•ˆæœ.<br>æ•ˆæœå¦‚ä¸‹:æœ€åä¸€å¼ æ˜¯æœ€ç»ˆè¦çš„(å¦‚æœæœ‰æ›´å¥½çš„å®ç°æ–¹æ³•,å¯ä»¥ç•™è¨€ç»™æˆ‘,å¼ºçƒˆæ¸´æœ›ä¸­â€¦)æˆ‘æŠŠé€Ÿåº¦æ”¾äº†å¾ˆæ…¢,è¿™æ ·èƒ½å¤Ÿæ›´æ¸…æ¥šçœ‹æ¸…è¿‡æ¸¡è¿‡ç¨‹<br><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_1.gif" alt=""><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_2.gif" alt=""><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_3.gif" alt=""><br><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_4.gif" alt=""><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_5.gif" alt=""><img src="http://7qn7zn.com1.z0.glb.clouddn.com/brown_photo_final.gif" alt=""><br><strong><font color="red">â€œæ‰€ä»¥,æ‰€ä»¥,ç½ªé­ç¥¸é¦–å°±æ˜¯,ä½ æ‹çš„ç…§ç‰‡ä¸ç®¡æ˜¯ç«–å±è¿˜æ˜¯æ¨ªå±çš„éƒ½è¦åœ¨é«˜200å®½ç­‰å±å¹•å®½çš„viewä¸Šå±•ç¤º,è¿™å¯¼è‡´pushå‰åUIImageViewçš„<code>contentMode</code>æ ·å¼ä¸ç»Ÿä¸€çš„æ‚²å‰§â€</font></strong><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Push-Pop-Present-Dismiss/">Push/Pop/Present/Dismiss</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å›¾ç‰‡æµè§ˆ-Custom-push/">å›¾ç‰‡æµè§ˆ Custom push</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/06/åŸºäºé¡¹ç›®æŸå¤„å›¾ç‰‡æµè§ˆéœ€æ±‚å¼•å‘çš„è›‹ç–¼/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-iOS-CoreAnimation-04" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/04/iOS-CoreAnimation-04/" class="article-date">
      <time datetime="2015-11-04T06:31:26.000Z" itemprop="datePublished">2015-11-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/04/iOS-CoreAnimation-04/">iOS CoreAnimation(å››)ä¹‹CAPropertyAnimation</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p><code>CAPropertyAnimation</code>ä½œä¸ºå±æ€§åŠ¨ç”»çš„åŸºç±»,å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨.é€šå¸¸æˆ‘ä»¬æ“ä½œçš„æ˜¯å®ƒçš„ä¸¤ä¸ªå­ç±»<code>CABasicAnimation</code>å’Œ<code>CAKeyframeAnimation</code>.<br><br></p>
<h2 id="CABasicAnimation"><a href="#CABasicAnimation" class="headerlink" title="CABasicAnimation"></a><font color="#ce1f48">CABasicAnimation</font></h2><ul>
<li>åŸºç¡€åŠ¨ç”»,é€šè¿‡å±æ€§ä¿®æ”¹è¿›è¡ŒåŠ¨ç”»å‚æ•°æ§åˆ¶,åªæœ‰åˆå§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ã€‚å®ƒåªæœ‰3ä¸ªå±æ€§:<code>fromValue</code> <code>toValue</code> <code>ByValue</code>,å…¶ä»–å…¨æ˜¯ç»§æ‰¿çš„(å‚è€ƒä¸Šä¸€ç¯‡).å¯¹äºå®ƒè¿™3ä¸ªå±æ€§å¯ä»¥å‚è€ƒ:<a href="https://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CABasicAnimation_class/index.html#//apple_ref/doc/uid/TP40004496-CH1-SW4">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// å¦‚æœfromValueå’ŒtoValueä¸ä¸ºnil,é‚£ä¹ˆåŠ¨ç”»å¸§å˜åŒ–å°±æ˜¯ä»<span class="built_in">from</span>åˆ°<span class="built_in">to</span></span><br><span class="line">Both fromValue <span class="operator">and</span> toValue are non-nil. Interpolates between fromValue <span class="operator">and</span> toValue.<span class="comment"></span><br><span class="line">// å¦‚æœfromValueå’ŒtoValueä¸ä¸ºnil,é‚£ä¹ˆåŠ¨ç”»å¸§å˜åŒ–å°±æ˜¯ä»fromåˆ°from+by(å¯è§byValueæ˜¯ç›¸å¯¹å€¼æ¦‚å¿µ)</span></span><br><span class="line">fromValue <span class="operator">and</span> byValue are non-nil. Interpolates between fromValue <span class="operator">and</span> (fromValue + byValue).<span class="comment"></span><br><span class="line">// å‰©ä¸‹çš„å¤§è‡´ç›¸åŒ...å°±ä¸å¤šè§£é‡Šäº†</span></span><br><span class="line">byValue <span class="operator">and</span> toValue are non-nil. Interpolates between (toValue - byValue) <span class="operator">and</span> toValue.</span><br><span class="line"></span><br><span class="line">fromValue is non-nil. Interpolates between fromValue <span class="operator">and</span> <span class="operator">the</span> current presentation <span class="built_in">value</span> <span class="operator">of</span> <span class="operator">the</span> property.</span><br><span class="line"></span><br><span class="line">toValue is non-nil. Interpolates between <span class="operator">the</span> current <span class="built_in">value</span> <span class="operator">of</span> keyPath <span class="operator">in</span> <span class="operator">the</span> target layerâ€™s presentation layer <span class="operator">and</span> toValue.</span><br><span class="line"></span><br><span class="line">byValue is non-nil. Interpolates between <span class="operator">the</span> current <span class="built_in">value</span> <span class="operator">of</span> keyPath <span class="operator">in</span> <span class="operator">the</span> target layerâ€™s presentation layer <span class="operator">and</span> that <span class="built_in">value</span> plus byValue.</span><br><span class="line"></span><br><span class="line">All properties are nil. Interpolates between <span class="operator">the</span> previous <span class="built_in">value</span> <span class="operator">of</span> keyPath <span class="operator">in</span> <span class="operator">the</span> target layerâ€™s presentation layer <span class="operator">and</span> <span class="operator">the</span> current <span class="built_in">value</span> <span class="operator">of</span> keyPath <span class="operator">in</span> <span class="operator">the</span> target layerâ€™s presentation layer.</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨<code>animationWithKeyPath:</code>æ–¹æ³•è¿›è¡Œå®ä¾‹åŒ–ï¼Œå¹¶æŒ‡å®šLayer(åé¢ç¯‡å¹…è§£é‡Š)çš„å±æ€§ä½œä¸ºkeyPath(å…³é”®è·¯å¾„)æ¥æ³¨å†Œ.<br><font color="red">å¯¹äºè¿™ä¸ª<code>keyPath</code>,<a href="https://developer.apple.com/library/prerelease/tvos/documentation/Cocoa/Conceptual/CoreAnimation_guide/Key-ValueCodingExtensions/Key-ValueCodingExtensions.html">Core Animation Programming Guide</a>ä¸­ç»™å‡ºäº†ä¸€äº›å¸¸è§çš„,ä½ è¿˜å¯ä»¥å†™å…¥path(xxx.fromValue = yyy.CGPath xxx.toValue = yyy.CGPath),layerçš„å±æ€§ä»¥åŠå…¶å­ç±»çš„æ¯”å¦‚:strokeStart,locations(CAGradientLayer)â€¦</font>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/CoreAnimation/">CoreAnimation</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Basic-KeyFrame/">Basic KeyFrame</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/04/iOS-CoreAnimation-04/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 Tommy@è¿·ç³Šå°ä¹¦ç«¥
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="ç®€è€Œä¸å‡åŒæ  Hexo åšå®¢ä¸»é¢˜">Yelee</a> by MOxFIVE
            </div>
        </div>
        <div class="visit">
            <span id="busuanzi_container_site_pv" style='display:none'>
                <span id="site-visit" >æœ¬ç«™åˆ°è®¿æ•°: 
                    <span id="busuanzi_value_site_uv"></span>
                </span>
            </span>
            <span id="busuanzi_container_page_pv" style='display:none'>
                <span id="page-visit">, æœ¬é¡µé˜…è¯»é‡: 
                    <span id="busuanzi_value_page_pv"></span>
                </span>
            </span>
        </div>
    </div>
</footer>
    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-72551550-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<div class="scroll" id="scroll">
    <a href="#" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="æŸ¥çœ‹è¯„è®º"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="è½¬åˆ°åº•éƒ¨"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>